@page
@model HomeSchoolDayBook.Pages.Reports.TimeSpentPerDayModel
@{
    ViewData["Title"] = "Time Spent per Day";
    Layout = "~/Pages/Reports/_ReportsLayout.cshtml";
}

<h3>Time Spent per Day, All Subjects</h3>
<h4>@Html.DisplayFor(model => model.StartDate) to @Html.DisplayFor(model => model.EndDate) </h4>

<hr />

@foreach (var student in Model.StudentTimeSpents)
{
    <div class="row">
        <div class="col-xs-12">
            <h4>@student.Student.Name</h4>
        </div>
    </div>

    @foreach (var day in student.TimePerDayLookup)
    {
        string formattedDate = $"{day.Key.ToShortDateString()} ({day.Key.DayOfWeek})";

        string formattedTimeSpent = Helpers.Helpers.GetTimeSpentDisplay(day.Value);
    
        <div class="row">
            <div class="col-xs-7 indented-report">
                @Html.DisplayFor(modelItem => formattedDate)
            </div>
            <div class="col-xs-5">
                @Html.DisplayFor(modelItem => formattedTimeSpent)
            </div>
        </div>
    }

    <hr />
}