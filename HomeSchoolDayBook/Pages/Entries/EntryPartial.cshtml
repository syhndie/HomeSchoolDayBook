@model HomeSchoolDayBook.Models.ViewModels.EntryVM
<a asp-page="../Students/Create">Create New Student</a> <br>
<a asp-page="../Subjects/Create">Create New Subject</a>
<hr /> 
<form method="post" class="sidemargins">
    <div asp-validation-summary="ModelOnly" class="text-danger">
    </div>
    <div class="row">
        <div class="form-group col-md-6 col-sm-8">
            <label asp-for="Entry.Title" class="control-label"></label>
            <input asp-for="Entry.Title" class="form-control" placeholder="Entry title" autofocus />
            <span asp-validation-for="Entry.Title" class="text-danger"></span>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-2 col-sm-3 col-xs-5">
            <label asp-for="Entry.Date" class="control-label"></label>
            <input asp-for="Entry.Date" type="text" class="form-control" />
            <span asp-validation-for="Entry.Date" class="text-danger"></span>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-6 col-sm-8">
            <label asp-for="Entry.Description" class="control-label"></label>
            <textarea asp-for="Entry.Description" class="form-control" placeholder="Entry details"></textarea>
            <span asp-validation-for="Entry.Description" class="text-danger"></span>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <label class="control-label">Time Spent</label>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 col-xs-4">
            <input asp-for="EnteredHours" class="form-control" placeholder="Hours" />
            <span asp-validation-for="EnteredHours" class="text-danger"></span>
        </div>
        <div class="col-sm-2 col-xs-4">
            <input asp-for="EnteredMinutes" class="form-control" placeholder="Minutes" />
            <span asp-validation-for="EnteredMinutes" class="text-danger"></span>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-8 col-sm-10">
            <label asp-for="StudentCheckBoxes" class="control-label"></label>
            <p class="text-danger">@Model.NoStudentsMessage </p>
            <div class="row">
                @for (int i = 0; i < Model.StudentCheckBoxes.Count; i++)
                {
                    var checkbox = Model.StudentCheckBoxes[i];

                    string isChecked = checkbox.Assigned ? "checked" : "";

                    <div class="col-sm-4">
                        <label class="notbold">
                            <input type="checkbox" 
                                   name="selectedStudents" 
                                   id=@($"studentCheck{i}") 
                                   onclick="displayStudentSubjectPairs()" 
                                   value="@checkbox.ID" @isChecked />@checkbox.Name
                        </label>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-8 col-sm-10">
            <label asp-for="SubjectCheckBoxes" class="control-label"></label>
            <p class="text-danger">@Model.NoSubjectsMessage</p>
            <div class="row">
                @for (int i = 0; i < Model.SubjectCheckBoxes.Count; i++)
                {
                    var checkbox = Model.SubjectCheckBoxes[i];

                    string isChecked = checkbox.Assigned ? "checked" : "";
                    <div class="col-sm-4">
                        <label class="notbold">
                            <input type="checkbox" 
                                   name="selectedSubjects" 
                                   id=@($"subjectCheck{i}")
                                   onclick="displayStudentSubjectPairs()"
                                   value="@checkbox.ID" 
                                   @isChecked />
                            @checkbox.Name
                        </label>
                    </div>
                }
            </div>
        </div>
    </div>
    <div>
        <ul>
            @foreach (var studentCheckbox in Model.StudentCheckBoxes)
            {
                @foreach (var subjectCheckbox in Model.SubjectCheckBoxes)
                {
                    <li id=@($"student{studentCheckbox.ID}subject{subjectCheckbox.ID}") 
                        style="display:none">
                    @studentCheckbox.Name @subjectCheckbox.Name
                    </li>
                }

            }
        </ul>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 topmargins">
            <input type="submit" value="Save" class="btn btn-default" />
        </div>
    </div>
</form>   
<div>
    <a asp-page="Index">My Entries</a>
</div>